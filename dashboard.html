<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const firebaseConfig = { /* SAME CONFIG AS ABOVE */ };
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // THE GUARD: Check if the director is logged in
  onAuthStateChanged(auth, (user) => {
    if (!user) {
      // If no user is logged in, kick them back to login
      window.location.href = "login.html";
    } else {
      console.log("Welcome, Director:", user.email);
      // You can now display their specific jobs here
    }
  });

  // Function to logout
  window.logoutDirector = () => {
    signOut(auth).then(() => { window.location.href = "login.html"; });
  }
</script>
